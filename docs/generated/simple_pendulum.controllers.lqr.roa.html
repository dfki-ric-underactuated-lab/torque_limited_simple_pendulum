<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>simple_pendulum.controllers.lqr.roa &mdash; Torque-limited Simple Pendulum  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="simple_pendulum.controllers.open_loop" href="simple_pendulum.controllers.open_loop.html" />
    <link rel="prev" title="simple_pendulum.controllers.lqr.analytic_roa_estimation" href="simple_pendulum.controllers.lqr.analytic_roa_estimation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Torque-limited Simple Pendulum
              <img src="../_static/pendulum_light_painting.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/00.installation_guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/01.usage_instructions.html">Usage Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/02.model.html">The Physics of a Simple Pendulum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/03.simulation.html">Simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/04.hardware.html">Hardware Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/05.trajectory_optimization.html">Trajectory Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/06.reinforcement_learning.html">Reinforcement Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/07.trajectory_based_controllers.html">Trajectory-based Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/08.policy_based_controllers.html">Policy-based Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/09.analysis.html">Controller Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/11.contributing.html">How to Contribute</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="simple_pendulum.html">Software Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="simple_pendulum.html#api-reference">API Reference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="simple_pendulum.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="simple_pendulum.analysis.html">simple_pendulum.analysis</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="simple_pendulum.controllers.html">simple_pendulum.controllers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="simple_pendulum.controllers.html#controllers"><code class="docutils literal notranslate"><span class="pre">Controllers</span></code></a></li>
<li class="toctree-l4 current"><a class="reference internal" href="simple_pendulum.controllers.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="simple_pendulum.controllers.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="simple_pendulum.controllers.html#module-simple_pendulum.controllers.abstract_controller">simple_pendulum.controllers.abstract_controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="simple_pendulum.controllers.html#module-simple_pendulum.controllers.motor_control_loop">simple_pendulum.controllers.motor_control_loop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="simple_pendulum.model.html">simple_pendulum.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple_pendulum.reinforcement_learning.html">simple_pendulum.reinforcement_learning</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple_pendulum.simulation.html">simple_pendulum.simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple_pendulum.trajectory_optimization.html">simple_pendulum.trajectory_optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple_pendulum.utilities.html">simple_pendulum.utilities</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Torque-limited Simple Pendulum</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="simple_pendulum.html">simple_pendulum</a></li>
          <li class="breadcrumb-item"><a href="simple_pendulum.controllers.html">simple_pendulum.controllers</a></li>
          <li class="breadcrumb-item"><a href="simple_pendulum.controllers.lqr.html">simple_pendulum.controllers.lqr</a></li>
      <li class="breadcrumb-item active">simple_pendulum.controllers.lqr.roa</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/simple_pendulum.controllers.lqr.roa.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-simple_pendulum.controllers.lqr.roa">
<span id="simple-pendulum-controllers-lqr-roa"></span><h1>simple_pendulum.controllers.lqr.roa<a class="headerlink" href="#module-simple_pendulum.controllers.lqr.roa" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-simple_pendulum.controllers.lqr.roa.plot">
<span id="simple-pendulum-controllers-lqr-roa-plot"></span><h2>simple_pendulum.controllers.lqr.roa.plot<a class="headerlink" href="#module-simple_pendulum.controllers.lqr.roa.plot" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.plot.get_ellipse_params">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.plot.</span></span><span class="sig-name descname"><span class="pre">get_ellipse_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.plot.get_ellipse_params" title="Permalink to this definition"></a></dt>
<dd><p>Returns ellipse params (excl center point)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.plot.get_ellipse_patch">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.plot.</span></span><span class="sig-name descname"><span class="pre">get_ellipse_patch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">px</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'solid'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.plot.get_ellipse_patch" title="Permalink to this definition"></a></dt>
<dd><p>return an ellipse patch</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.plot.plot_ellipse">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.plot.</span></span><span class="sig-name descname"><span class="pre">plot_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">px</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.plot.plot_ellipse" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-simple_pendulum.controllers.lqr.roa.sampling">
<span id="simple-pendulum-controllers-lqr-roa-sampling"></span><h2>simple_pendulum.controllers.lqr.roa.sampling<a class="headerlink" href="#module-simple_pendulum.controllers.lqr.roa.sampling" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.sampling.najafi_based_sampling">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.sampling.</span></span><span class="sig-name descname"><span class="pre">najafi_based_sampling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_star</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([3.14159265,</span> <span class="pre">0.0])</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.sampling.najafi_based_sampling" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the RoA for the closed loop dynamics using the method introduced in Najafi, E., Babuška, R. &amp; Lopes, G.A.D. A fast sampling method for estimating the domain of attraction. Nonlinear Dyn 86, 823–834 (2016). <a class="reference external" href="https://doi.org/10.1007/s11071-016-2926-7">https://doi.org/10.1007/s11071-016-2926-7</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>plant</strong><span class="classifier">simple_pendulum.model.pendulum_plant</span></dt><dd><p>configured pendulum plant object</p>
</dd>
<dt><strong>controller</strong><span class="classifier">simple_pendulum.controllers.lqr.lqr_controller</span></dt><dd><p>configured lqr controller object</p>
</dd>
<dt><strong>n</strong><span class="classifier">int, optional</span></dt><dd><p>number of samples, by default 100000</p>
</dd>
<dt><strong>rho0</strong><span class="classifier">int, optional</span></dt><dd><p>initial estimate of rho, by default 10</p>
</dd>
<dt><strong>M</strong><span class="classifier">np.array, optional</span></dt><dd><p>M, such that x_barT M x_bar is the Lyapunov fct. by default None, and controller.S is used</p>
</dd>
<dt><strong>x_star</strong><span class="classifier">np.array, optional</span></dt><dd><p>nominal position (fixed point of the nonlinear dynamics)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>rho</strong><span class="classifier">float</span></dt><dd><p>estimated value of rho</p>
</dd>
<dt><strong>M</strong><span class="classifier">np.array</span></dt><dd><p>M</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-simple_pendulum.controllers.lqr.roa.sos">
<span id="simple-pendulum-controllers-lqr-roa-sos"></span><h2>simple_pendulum.controllers.lqr.roa.sos<a class="headerlink" href="#module-simple_pendulum.controllers.lqr.roa.sos" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.sos.SOSequalityConstrained">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.sos.</span></span><span class="sig-name descname"><span class="pre">SOSequalityConstrained</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pendulum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.sos.SOSequalityConstrained" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Estimate the RoA for the closed loop dynamics using the method described by Russ Tedrake in “Underactuated Robotics: Algorithms for Walking, Running, Swimming, Flying, and Manipulation”,</dt><dd><p>Course Notes for MIT 6.832, 2022, “<a class="reference external" href="http://underactuated.mit.edu">http://underactuated.mit.edu</a>”, sec. 9.3.2: “The equality-constrained formulation”.
This is discussed a bit more by Shen Shen and Russ Tedrake in “Sampling Quotient-Ring Sum-of-Squares Programs for Scalable Verification of Nonlinear Systems”,
Proceedings of the 2020 59th IEEE Conference on Decision and Control (CDC) , 2020., <a class="reference external" href="http://groups.csail.mit.edu/robotics-center/public_papers/Shen20.pdf">http://groups.csail.mit.edu/robotics-center/public_papers/Shen20.pdf</a>, pg. 2-3.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pendulum</strong><span class="classifier">simple_pendulum.model.pendulum_plant</span></dt><dd><p>configured pendulum plant object</p>
</dd>
<dt><strong>controller</strong><span class="classifier">simple_pendulum.controllers.lqr.lqr_controller</span></dt><dd><p>configured lqr controller object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>rho</strong><span class="classifier">float</span></dt><dd><p>estimated value of rho</p>
</dd>
<dt><strong>S</strong><span class="classifier">np.array</span></dt><dd><p>S matrix from the lqr controller</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.sos.SOSlineSearch">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.sos.</span></span><span class="sig-name descname"><span class="pre">SOSlineSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pendulum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.sos.SOSlineSearch" title="Permalink to this definition"></a></dt>
<dd><p>Simple line search(bisection method) on rho that search for the maximum rho which satisfies the Lyapunov conditions in order to obtain an estimate  of the RoA for the closed loop dynamics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pendulum</strong><span class="classifier">simple_pendulum.model.pendulum_plant</span></dt><dd><p>configured pendulum plant object</p>
</dd>
<dt><strong>controller</strong><span class="classifier">simple_pendulum.controllers.lqr.lqr_controller</span></dt><dd><p>configured lqr controller object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>rho</strong><span class="classifier">float</span></dt><dd><p>estimated value of rho</p>
</dd>
<dt><strong>S</strong><span class="classifier">np.array</span></dt><dd><p>S matrix from the lqr controller</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-simple_pendulum.controllers.lqr.roa.utils">
<span id="simple-pendulum-controllers-lqr-roa-utils"></span><h2>simple_pendulum.controllers.lqr.roa.utils<a class="headerlink" href="#module-simple_pendulum.controllers.lqr.roa.utils" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.PendulumPlantApprox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.utils.</span></span><span class="sig-name descname"><span class="pre">PendulumPlantApprox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gravity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9.81</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coulomb_fric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inertia</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torque_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taylorApprox_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.PendulumPlantApprox" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.PendulumPlantApprox.forward_dynamics">
<span class="sig-name descname"><span class="pre">forward_dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.PendulumPlantApprox.forward_dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Computes forward dynamics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>state</strong><span class="classifier">array like</span></dt><dd><p>len(state)=2
The state of the pendulum [angle, angular velocity]
floats, units: rad, rad/s</p>
</dd>
<dt><strong>tau</strong><span class="classifier">float</span></dt><dd><p>motor torque, unit: Nm</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><dl class="simple">
<dt>float, angular acceleration, unit: rad/s^2</dt><dd></dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.PendulumPlantApprox.rhs">
<span class="sig-name descname"><span class="pre">rhs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.PendulumPlantApprox.rhs" title="Permalink to this definition"></a></dt>
<dd><p>Computes the integrand of the equations of motion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>t</strong><span class="classifier">float</span></dt><dd><p>time, not used (the dynamics of the pendulum are time independent)</p>
</dd>
<dt><strong>state</strong><span class="classifier">array like</span></dt><dd><p>len(state)=2
The state of the pendulum [angle, angular velocity]
floats, units: rad, rad/s</p>
</dd>
<dt><strong>tau</strong><span class="classifier">float or array like</span></dt><dd><p>motor torque, unit: Nm</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>res</strong><span class="classifier">array like</span></dt><dd><p>the integrand, contains [angular velocity, angular acceleration]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.direct_sphere">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.utils.</span></span><span class="sig-name descname"><span class="pre">direct_sphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_i</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.direct_sphere" title="Permalink to this definition"></a></dt>
<dd><p>Direct Sampling from the d Ball based on Krauth, Werner. Statistical Mechanics: Algorithms and Computations. Oxford Master Series in Physics 13. Oxford: Oxford University Press, 2006. page 42</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>d</strong><span class="classifier">int</span></dt><dd><p>dimension of the ball</p>
</dd>
<dt><strong>r_i</strong><span class="classifier">int, optional</span></dt><dd><p>inner radius, by default 0</p>
</dd>
<dt><strong>r_o</strong><span class="classifier">int, optional</span></dt><dd><p>outer radius, by default 1</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.array</dt><dd><p>random vector directly sampled from the solid d Ball</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.quad_form">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.utils.</span></span><span class="sig-name descname"><span class="pre">quad_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.quad_form" title="Permalink to this definition"></a></dt>
<dd><p>Helper function to compute quadratic forms such as x^TMx</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.rhoVerification">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.utils.</span></span><span class="sig-name descname"><span class="pre">rhoVerification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pendulum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.rhoVerification" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SOS Verification of the Lyapunov conditions for a given rho in order to obtain an estimate  of the RoA for the closed loop dynamics.</dt><dd><p>This method is described by Russ Tedrake in “Underactuated Robotics: Algorithms for Walking, Running, Swimming, Flying, and Manipulation”,
Course Notes for MIT 6.832, 2022, “<a class="reference external" href="http://underactuated.mit.edu">http://underactuated.mit.edu</a>”, sec. 9.3.2: “Basic region of attraction formulation”.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>rho: float</strong></dt><dd><p>value of rho to be verified</p>
</dd>
<dt><strong>pendulum</strong><span class="classifier">simple_pendulum.model.pendulum_plant</span></dt><dd><p>configured pendulum plant object</p>
</dd>
<dt><strong>controller</strong><span class="classifier">simple_pendulum.controllers.lqr.lqr_controller</span></dt><dd><p>configured lqr controller object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">boolean</span></dt><dd><p>result of the verification</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.sample_from_ellipsoid">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.utils.</span></span><span class="sig-name descname"><span class="pre">sample_from_ellipsoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_i</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.sample_from_ellipsoid" title="Permalink to this definition"></a></dt>
<dd><p>sample directly from the ellipsoid defined by xT M x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>M</strong><span class="classifier">np.array</span></dt><dd><p>Matrix M such that xT M x leq rho defines the hyperellipsoid to sample from</p>
</dd>
<dt><strong>rho</strong><span class="classifier">float</span></dt><dd><p>rho such that xT M x leq rho defines the hyperellipsoid to sample from</p>
</dd>
<dt><strong>r_i</strong><span class="classifier">int, optional</span></dt><dd><p>inner radius, by default 0</p>
</dd>
<dt><strong>r_o</strong><span class="classifier">int, optional</span></dt><dd><p>outer radius, by default 1</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>np.array</dt><dd><p>random vector from within the hyperellipsoid</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="simple_pendulum.controllers.lqr.roa.utils.vol_ellipsoid">
<span class="sig-prename descclassname"><span class="pre">simple_pendulum.controllers.lqr.roa.utils.</span></span><span class="sig-name descname"><span class="pre">vol_ellipsoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simple_pendulum.controllers.lqr.roa.utils.vol_ellipsoid" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the Volume of a Hyperellipsoid
Volume of the Hyperllipsoid according to <a class="reference external" href="https://math.stackexchange.com/questions/332391/volume-of-hyperellipsoid/332434">https://math.stackexchange.com/questions/332391/volume-of-hyperellipsoid/332434</a>
Intuition: <a class="reference external" href="https://textbooks.math.gatech.edu/ila/determinants-volumes.html">https://textbooks.math.gatech.edu/ila/determinants-volumes.html</a>
Volume of n-Ball <a class="reference external" href="https://en.wikipedia.org/wiki/Volume_of_an_n-ball">https://en.wikipedia.org/wiki/Volume_of_an_n-ball</a></p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="simple_pendulum.controllers.lqr.analytic_roa_estimation.html" class="btn btn-neutral float-left" title="simple_pendulum.controllers.lqr.analytic_roa_estimation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simple_pendulum.controllers.open_loop.html" class="btn btn-neutral float-right" title="simple_pendulum.controllers.open_loop" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>